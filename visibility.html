<html>
 <head>
  <meta charset="utf-8">
  <title>Visibility</title>
  <script>

/* Code example from https://learn.javascript.ru/internal-external-interface */

function CoffeeMachine(power) {
    this.waterAmount = 0; // write variable into new object; public variable
    var WATER_HEAT_CAPACITY = 4200; // variable visible inside function; private variable
    var self = this; // private variable with reference to new object
    function getBoilTime() { // private function
        return self.waterAmount * WATER_HEAT_CAPACITY * 80 / power;
    }
    
    function onReady() { // private variable
        document.getElementById('welcome').innerHTML += '<br/>Кофе готово!';
    }

    this.run = function() { // public variable
        setTimeout(onReady, getBoilTime());
    };
}
 
function main() {
    var coffeeMachine = new CoffeeMachine(100000);
    coffeeMachine.waterAmount = 600;
    coffeeMachine.run();
}

  </script>
 </head>
 <body onload="main()">
  <div id="welcome">Кто хочет кофе?</div>
 </body>
</html>